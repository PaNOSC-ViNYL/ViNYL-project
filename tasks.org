#+STARTUP: lognotedone
#+STARTUP: org-log-done-with-time
#+TODO: TODO ONGOING REVIEW | DONE
# to compile in local
# ls tasks.org | entr emacs tasks.org  -L .emacs/ -l init --batch -f "org-taskjuggler-export"
# ls tasks.tjp | entr  tj3 -o /dev/shm/taskjuggler/ tasks.tjp

#+PROPERTY: Effort_ALL 1d 2d 3d 4d 5d 10d 20d 30d 35d 50d
#+PROPERTY: Duration_ALL 2d 5d 10d 20d 30d 35d 50d
#+PROPERTY: Allocate_ALL alijosa shervin mads carsten jun mousumi reviewers
#+PROPERTY: ORDERED_ALL  t 
#+PROPERTY: FLAGS_ALL  sprint2021
#+COLUMNS: %70ITEM(Task) %5GH_ID %FLAGS %3EFFORT(Effort) %3LENGTH(Duration) %10allocate(Allocate) %id %20depends %1ORDERED(ORDERED) %BLOCKER(BLOCKER) %SCHEDULED(start_date) %DEADLINE
#+STARTUP: CONTENT



* Resources                                            :taskjuggler_resource:
** Review
 :PROPERTIES:
 :id:       reviewers
:END:
*** None
    :PROPERTIES:
    :resource_id: none
    :END:
*** Mads
    :PROPERTIES:
    :resource_id: mads
    :leaves: project 2021-09-20 - 2021-11-31
    :END:
*** Jun 
    :PROPERTIES:
    :resource_id: jun
    :vacation: 2021-09-20 - 2021-09-27
    :END:
*** Shervin
    :PROPERTIES:
    :resource_id: shervin
    :vacation:  2021-10-23 - 2021-11-08, 2021-12-18 - 2022-01-03
    :END:
*** Alijosa
    :PROPERTIES:
    :resource_id: alijosa
    :END:
*** Mousumi
    :PROPERTIES:
    :resource_id: mousumi
    :END:
*** Cartsten
    :PROPERTIES:
    :resource_id: carsten
    :limits:   {weeklymax 1d}
    :END:
*** Manuel
    :PROPERTIES:
    :resource_id: srio
    :END:





# scheduled tasks are meant as when they started
# deadlines are interpreted as maxend date expected


* PANOSC WP5 :taskjuggler_project:
  SCHEDULED: <2021-09-17 Fri> DEADLINE: <2022-11-30 Wed>
  :PROPERTIES:
  :DEPENDS_ALL: mcstas_libpyvinyl
  :trackingscenario: plan
  :NOW: [2021-09-21 Tue]
  :END:

** Papers   
*** In-silico neutron diffraction from Boro-carbon systems
    SCHEDULED: <2021-12-01 Wed>
    :PROPERTIES:
    :GH_ID:    [[https://github.com/PaNOSC-ViNYL/ViNYL-project/issues/72][72]]
    :FLAGS:    sprint2021
    :EFFORT:   10d
    :ALLOCATE: mousumi
    :END:
** Oasys    
*** TODO Docker image
    SCHEDULED: <2021-12-01 Wed>
    :PROPERTIES:
    :GH_ID:    [[https://github.com/PaNOSC-ViNYL/ViNYL-project/issues/73][73]]
    :FLAGS:    sprint2021
    :EFFORT:   4d
    :ALLOCATE: alijosa
    :END:   
** PAN-learning
*** TODO [#C] Simex material
    DEADLINE: <2021-12-15 Wed> SCHEDULED: <2021-12-01 Wed>
    :PROPERTIES:
    :GH_ID:    [[https://github.com/PaNOSC-ViNYL/ViNYL-project/issues/66][66]]
    :FLAGS:    sprint2021
    :ALLOCATE: jun
    :EFFORT:   1d
    :END:
*** TODO [#C] Oasys schools material uploaded to PAN learning
    SCHEDULED: <2021-12-01 Wed>
    :PROPERTIES:
    :GH_ID:    [[https://github.com/PaNOSC-ViNYL/ViNYL-project/issues/75][75]]
    :FLAGS:    sprint2021
    :EFFORT:   2d
    :ALLOCATE: alijosa
    :END:   
** TODO [#B] Protocol comparison sim vs data and sim vs sim
   DEADLINE: <2021-12-15 Wed> SCHEDULED: <2021-12-01 Wed>
   :PROPERTIES:
   :ID:       protocol
   :GH_ID:    [[https://github.com/PaNOSC-ViNYL/ViNYL-project/issues/64][64]]
   :FLAGS:    sprint2021
   :END:
*** TODO [#A] Adding section about simulation vs simulation comparison :sprint2021:
    SCHEDULED: <2021-09-22 Wed>
    :PROPERTIES:
    :EFFORT: 2d
    :ALLOCATE: shervin
    :ID: protocol_sim_vs_sim
    :FLAGS:    sprint2021
    :END:   
*** TODO [#A] Review and fixes
    SCHEDULED: <2021-12-10 Fri>
    :PROPERTIES:
    :EFFORT:   1d
    :ALLOCATE: carsten
    :ID: protocol_review
    :BLOCKER: previous-sibling
    :FLAGS:    sprint2021
    :END:
    :LOGBOOK:
    CLOCK: [2021-09-21 Tue 17:01]--[2021-09-21 Tue 17:16] =>  0:15
    :END:
** OpenPMD  
   :PROPERTIES:
   :END:    
*** TODO [#C] raytracing extension
     SCHEDULED: <2021-12-01 Wed>
    :PROPERTIES:
    :id:       openpmd_ray_ext
    :ORDERED:  t
    :ALLOCATE: alijosa
    :END:   
**** TODO [#A] Prepare PR to openPMD standard
     DEADLINE: <2021-12-15 Wed> SCHEDULED: <2021-12-01 Wed>
     :PROPERTIES:
     :EFFORT:   2d
     :ALLOCATE: alijosa
     :FLAGS:    sprint2021
     :END:  
**** TODO Interal review
     :PROPERTIES:
     :ALLOCATE: shervin, mads, carsten
     :ID:       openpmd_ray_ext_review
     :LENGTH:   2d
     :ORDERED:  t
     :FLAGS:    sprint2021
     :END:  
**** TODO Submission to openPMD
     :PROPERTIES:
     :EFFORT:   1d
     :ALLOCATE: alijosa
     :ORDERED:  t
     :FLAGS:    sprint2021
     :END:
**** TODO follow up till integration
     :PROPERTIES:
     :DURATION: 20d
     :ALLOCATE: alijosa
     :ORDERED:  t
     :END:
*** TODO raytracing C++ API
    :PROPERTIES:
    :start_date: <2021-09-01 Wed>
    :id:       openpmd_ray_cpp_api
    :ALLOCATE: shervin
    :END:
**** DONE Implementation
     SCHEDULED: <2021-09-17 Fri> CLOSED: [2021-09-19 Sun]
     :PROPERTIES:
     :EFFORT:   4d
     :ALLOCATE: shervin
     :END:
     :LOGBOOK:
     - CLOSING NOTE [2021-09-21 Tue 13:24] \\
       Basic implementation finished
     - CLOSING NOTE [2021-09-21 Tue 11:17]
     :END:
**** DONE Implementation Review Mads
     CLOSED: [2021-09-21 Tue] SCHEDULED: <2021-09-20 Mon>
     :PROPERTIES:
     :ALLOCATE: reviewers
     :ORDERED:  t
     :BLOCKER:  previous-sibling
     :EFFORT: 2d
     :ID:       openpmd_ray_cpp_api_review
     :END:
     :LOGBOOK:
     - CLOSING NOTE [2021-09-21 Tue 13:24] \\
       Review performed by Mads
     CLOCK: [2021-09-20 Mon 11:31]--[2021-09-20 Mon 13:31] =>  2:00
     :END:
**** TODO Internal Review Implementation
     SCHEDULED: <2021-12-09 Thu>
     :PROPERTIES:
     :ALLOCATE: reviewers
     :ORDERED:  t
     :BLOCKER:  previous-sibling
     :EFFORT: 2d
     :ID:       openpmd_ray_cpp_api_review_2
     :flags: sprint2021
     :END:


**** ONGOING Documentation
     :PROPERTIES:
     :EFFORT:   2d
     :ORDERED:  t
     :BLOCKER:  previous-sibling
     :ALLOCATE: shervin
     :END:
**** ONGOING Tests
     :PROPERTIES:
     :EFFORT:   5d
     :ORDERED:  t
     :BLOCKER:  previous-sibling
     :ALLOCATE: shervin
     :END:
**** TODO CI   
     :PROPERTIES:
     :EFFORT:   2d
     :ORDERED:  t
     :BLOCKER:  previous-sibling
     :ALLOCATE: shervin
     :END:
**** Remaining issues [0/1]
     :PROPERTIES:
     :EFFORT:   2d
     :ALLOCATE: shervin
     :ORDERED:  t
     :BLOCKER:  previous-sibling, openpmd_ray_ext_review
     :END:
     - [ ] [[https://github.com/PaNOSC-ViNYL/openPMD_raytrace_API/issues/2][Issue]] reported by Mads about maximum number of foreseen rays should not just throw an error but allow saving a new file or a new iteration in the same file
     - [ ] CHUNK_SIZE should be optimized and set configurable at compile time
**** Contingency
     :PROPERTIES:
     :LENGTH:   10d
     :BLOCKER:  previous-sibling
     :allocate: none
     :END:
**** TODO Release
     :PROPERTIES:
     :ORDERED:  t
     :BLOCKER:  previous-sibling
     :ALLOCATE: shervin
     :END:
*** TODO McStas openPMD I/O component    
    :PROPERTIES:
    :ALLOCATE: shervin
    :END: 
**** DONE Implementation
     CLOSED: [2021-10-19 Tue]
     :PROPERTIES:
     :EFFORT:   5d
     :ALLOCATE: shervin
     :BLOCKER:  openpmd_ray_cpp_api_review
     :END:
     :LOGBOOK:
     - CLOSING NOTE [2021-10-19 Tue 15:26] \\
       Basic implementation finished
     :END:
**** DONE Tests
     CLOSED: [2021-10-19 Tue]
     :PROPERTIES:
     :EFFORT:   5d
     :ORDERED:  t
     :BLOCKER:  previous-sibling
     :ALLOCATE: shervin
     :END:
     :LOGBOOK:
     - CLOSING NOTE [2021-10-19 Tue 15:26] \\
       Instrument read and write tests implemented
     :END:
**** TODO Internal Review Implementation
     SCHEDULED: <2021-12-08 Wed>
     :PROPERTIES:
     :ALLOCATE: reviewers
     :ORDERED:  t
     :BLOCKER:  previous-sibling
     :LENGTH: 2d
     :FLAGS:    sprint2021
     :END:
**** TODO Documentation
     :PROPERTIES:
     :EFFORT:   2d
     :ORDERED:  t
     :BLOCKER:  previous-sibling
     :ALLOCATE: shervin
     :END:
**** TODO CI   
     :PROPERTIES:
     :EFFORT:   2d
     :ORDERED:  t
     :BLOCKER:  previous-sibling
     :ALLOCATE: shervin
     :END:
**** TODO Remaining issues [0/2]
     :PROPERTIES:
     :EFFORT:   10d
     :END:
     - [ ] Implement MPI
     - [ ] Performance comparison
**** Contingency
     :PROPERTIES:
     :LENGTH:   10d
     :BLOCKER:  previous-sibling
     :allocate: none
     :END:
**** TODO Release
     :PROPERTIES:
     :ORDERED:  t
     :BLOCKER:  previous-sibling
     :END:  
          
*** TODO raytracing Python API
    :PROPERTIES:
    :ALLOCATE: shervin
    :BLOCKER:  previous-sibling
    :END: 
**** TODO Implementation
     :PROPERTIES:
     :DEPENDS:  openpmd_ray_ext_review, openpmd_ray_cpp_api
     :EFFORT:   20d
     :BLOCKER:
     :ALLOCATE: shervin
     :END:
**** TODO Internal Review Implementation
     :PROPERTIES:
     :ALLOCATE: reviewers
     :ORDERED:  t
     :BLOCKER:  previous-sibling
     :LENGTH: 2d
     :END:
**** TODO Documentation
     :PROPERTIES:
     :EFFORT:   2d
     :ORDERED:  t
     :BLOCKER:  previous-sibling
     :ALLOCATE: shervin
     :END:
**** TODO Tests
     :PROPERTIES:
     :EFFORT:   5d
     :ORDERED:  t
     :BLOCKER:  previous-sibling
     :ALLOCATE: shervin
     :END:
**** TODO CI   
     :PROPERTIES:
     :EFFORT:   2d
     :ORDERED:  t
     :BLOCKER:  previous-sibling
     :ALLOCATE: shervin
     :END:
**** Contingency
     :PROPERTIES:
     :LENGTH:   10d
     :BLOCKER:  previous-sibling
     :allocate: none
     :END:
**** TODO Release
     :PROPERTIES:
     :ORDERED:  t
     :BLOCKER:  previous-sibling
     :END:
*** TODO OpenPMD raytracing to numpy conversion for ML training 
    SCHEDULED: <2021-11-29 Mon>
    :PROPERTIES:
    :EFFORT:   4d
    :ALLOCATE: shervin
    :END:
** PyVinyl
   :PROPERTIES:
   :ALLOCATE: jun
   :END:  
*** DONE Integration new Parameter class        
    CLOSED: [2021-09-21 Tue]
    :PROPERTIES:
    :ALLOCATE: jun
    :ORDERED:  t
    :BLOCKER:  previous-sibling
    :EFFORT:   2d
    :END: 
    :LOGBOOK:
    - CLOSING NOTE [2021-09-21 Tue 16:19] \\
      PR17 merged on the 2021-09-08
    :END:
*** DONE Integration Instrument class
    CLOSED: [2021-10-19 Tue]
    :PROPERTIES:
    :ALLOCATE: jun
    :ORDERED:  t
    :BLOCKER:  previous-sibling
    :EFFORT:   2d
    :END: 
    :LOGBOOK:
    - CLOSING NOTE [2021-10-19 Tue 15:23] \\
      [[https://github.com/PaNOSC-ViNYL/libpyvinyl/pull/19][PR #19]] merged 2021/10/01
    :END:
*** TODO [#A] Support for numpy arrays in Parameter class        :sprint2021:
    DEADLINE: <2021-12-08 Wed> SCHEDULED: <2021-12-01 Wed>
    :PROPERTIES:
    :EFFOR: 2d
    :GH_ID:    [[https://github.com/PaNOSC-ViNYL/ViNYL-project/issues/76][76]]
    :EFFORT:   2d
    :ALLOCATE: shervin
    :FLAGS:    sprint2021
    :END:
*** TODO McStasScript using libPyVinyl
    DEADLINE: <2021-12-08 Wed> SCHEDULED: <2021-12-01 Wed>
    :PROPERTIES:
    :ALLOCATE: mads
    :ORDERED:
    :BLOCKER:
    :EFFORT:   3d
    :ID:       mcstas_libpyvinyl
    :GH_ID:    [[https://github.com/PaNOSC-ViNYL/ViNYL-project/issues/33][33]]
    :FLAGS:    sprint2021
    :END:   
    
*** TODO SimEx-lite using libPyVinyl
    DEADLINE: <2021-12-08 Wed> SCHEDULED: <2021-12-01 Wed>
    :PROPERTIES:
    :EFFORT:   3d
    :ALLOCATE: jun
    :ID:       simex_libpyvinyl
    :GH_ID:    [[https://github.com/PaNOSC-ViNYL/ViNYL-project/issues/35][35]]
    :FLAGS:    sprint2021
    :END: 
*** TODO Shadow3 calculator and parameters 
    DEADLINE: <2021-12-15 Wed> SCHEDULED: <2021-12-01 Wed>
    :PROPERTIES:
    :ALLOCATE_ALL: alijosa shervin mads carsten jun mousumi reviewers srio
    :ALLOCATE: srio
    :EFFORT:   3d
    :GH_ID:    [[https://github.com/PaNOSC-ViNYL/ViNYL-project/issues/71][71]]
    :FLAGS:    sprint2021
    :END:
*** TODO New release of libPyVinyl
    DEADLINE: <2021-12-08 Wed>
    :PROPERTIES:
    :ALLOCATE: jun
    :ORDERED:  t
    :BLOCKER:  previous-sibling
    :EFFORT:   2d
    :ID:       libpyvinyl_2
    :END: 
    Simex, McStasscript and Shadow3 should comply to libpyvinyl:
    [[https://github.com/PaNOSC-ViNYL/ViNYL-project/issues/70]]
*** TODO Instrument database API (load, diff) [0/2]
    :PROPERTIES:
    :ALLOCATE: shervin,jun,mads
    :EFFORT:   10d
    :ORDERED:  t
    :BLOCKER:  previous-sibling
    :FLAGS:    sprint2021
    :END: 
    - [ ] Method to make the diff of current instrument and that saved in the repo
    - [ ] ? Method to make the diff of the parameters
** Instrument database
   :PROPERTIES:
   :ID:       instrument_db
   :END:
*** TODO SimEx example with parameters
    :PROPERTIES:
    :EFFORT:   5d
    :ALLOCATE: jun
    :DEPENDS:  simex_libpyvinyl
    :ID:       simex_example
    :END:
*** TODO Automatic tests
    :PROPERTIES:
    :EFFORT:   10d
    :ALLOCATE: shervin
    :DEPENDS: simex_example
    :END:
*** TODO McStas example for D22 with parameters
    :PROPERTIES:
    :ALLOCATE: shervin
    :EFFORT:   10d
    :DEPENDS:  mcstas_libpyvinyl
    :END: 
*** TODO McStas example for Thales with parameters
    :PROPERTIES:
    :ALLOCATE: shervin
    :EFFORT:   10d
    :DEPENDS:  mcstas_libpyvinyl
    :END:

** Simulation database
   SCHEDULED: <2022-01-03 Mon>
    More details in [[https://githubPaNOSC-ViNYL/ViNYL-project#55]]
*** Alpha test
*** Beta test
*** Deployment
** Milestones
*** Alpha Releases
    :PROPERTIES:
    :ID:  alpha_releases
    :END:

**** libPyVinyl
    :PROPERTIES:
    :ALLOCATE: jun
    :DEPENDS:       libpyvinyl_2
    :END: 
**** McStasScript
    :PROPERTIES:
    :ALLOCATE: mads
    :DEPENDS:  mcstas_libpyvinyl
    :END: 
**** SimEx-lite
    :PROPERTIES:
    :ALLOCATE: jun
    :DEPENDS: simex_libpyvinyl
    :END: 
**** Instrument repository
    :PROPERTIES:
    :ALLOCATE: shervin
    :DEPENDS:  instrument_db
    :END:
**** Cloud deployment :must_have:
We need to demonstrate how te deploy simulation services in the PaNOSC cloud services.
As a minimal solution, we have to provide docker containers for SIMEX and McStas/McStasScript plus jupyter notebook that can then be launched from within VISA.
Oasys is a different story, here the solution presented by Aljosa and Andrea is already sufficient.
**** Material properties database connectors
     In SIMEX, there is the option to retrieve sample definition files (in .pdb) format directly from the Protein Database. I would like to see (in SIMEX) a similar functionality for DFT simulation data or relaxed structures from the nomad DB.
     - downloading raw DFT data from nomad given a DOI or upload_id or calc_id
     - Additional but not strictly required features would be:
       + authentication with the nomad service
       + uploading a DFT dataset.

This tool should make use of the nomad API https://nomad-lab.eu/prod/rae/api/

*** Beta Releases
    :PROPERTIES:
    :ALLOCATE: shervin
    :DEPENDS:  alpha_releases
    :END:

**** libPyVinyl
    :PROPERTIES:
    :ALLOCATE: jun
    :END: 
**** McStasScript
    :PROPERTIES:
    :ALLOCATE: mads
    :END: 
**** SimEx-lite    
     :PROPERTIES:
     :ALLOCATE: jun
     :END:
**** Instrument repository
    :PROPERTIES:
    :ALLOCATE: shervin
    :DEPENDS:  instrument_db
    :END:



    



